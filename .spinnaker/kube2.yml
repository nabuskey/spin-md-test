name: my-k8s-manifest
application: nimakspin
serviceAccount: sekret-service-account@spinnaker-test.net
artifacts: []
environments:
  - name: testing # this is a fine default but you can change it
    resources:
    - kind: k8s/resource@v1
      metadata:
        account: my-k8s-west-account
      spec:
        apiVersion: v1
        kind: Service
        metadata:
          name: bye-k8s
          namespace: default
          annotations:
            moniker.spinnaker.io/application: nimakspin
        spec:
          type: LoadBalancer
          externalTrafficPolicy: Cluster
          ports:
          - port: 80
            targetPort: 8080
          selector:
            app: bye-k8s
    - kind: k8s/resource@v1
      metadata:
        account: my-k8s-west-account
      spec:
        apiVersion: apps/v1
        kind: Deployment
        metadata:
          name: bye-k8s
          namespace: default
          annotations:
            moniker.spinnaker.io/application: nimakspin
        spec:
          replicas: 2
          selector:
            matchLabels:
              app: bye-k8s
          template:
            metadata:
              labels:
                app: bye-k8s
            spec:
              containers:
              - name: bye-k8s
                image: paulbouwer/hello-kubernetes:1.8
                ports:
                - containerPort: 8080
