name: my-k8s-manifest # change me
application: eks-k8s # change me
serviceAccount: sekret-service-account@spinnaker-test.net
hasManagedResources: true
artifacts: []
environments:
  - name: testing # this is a fine default but you can change it
    hasManagedResources: true
    resources:
    - kind: k8s/resource@v1
      metadata:
        account: my-k8s-account
      spec:
        apiVersion: v1
        kind: Service
        metadata:
          name: hello-kubernetes
          namespace: default
          annotations:
            moniker.spinnaker.io/application: spinmd
        spec:
          type: LoadBalancer
          externalTrafficPolicy: Cluster
          ports:
          - port: 80
            targetPort: 8080
          selector:
            app: hello-kubernetes
    - kind: k8s/resource@v1
      metadata:
        account: my-k8s-account
      spec:
        apiVersion: apps/v1
        kind: Deployment
        metadata:
          name: hello-kubernetes
          namespace: default
          annotations:
            moniker.spinnaker.io/application: spinmd
        spec:
          replicas: 3
          selector:
            matchLabels:
              app: hello-kubernetes
          template:
            metadata:
              labels:
                app: hello-kubernetes
            spec:
              containers:
              - name: hello-kubernetes
                image: paulbouwer/hello-kubernetes:1.8
                ports:
                - containerPort: 8080
